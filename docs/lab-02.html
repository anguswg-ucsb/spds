<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<!-- Github Logo -->
<a href="https://github.com/mikejohnson51/" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#003660; color:#FEBC11; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>



<meta name="author" content="Mike Johnson" />


<title>Geography 176A</title>

<script src="lab-02_files/header-attrs-2.3/header-attrs.js"></script>
<script src="lab-02_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="lab-02_files/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="lab-02_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="lab-02_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="lab-02_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="lab-02_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="lab-02_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="lab-02_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="lab-02_files/navigation-1.1/tabsets.js"></script>
<script src="lab-02_files/navigation-1.1/codefolding.js"></script>
<script src="lab-02_files/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="lab-02_files/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="lab-02_files/pagedtable-1.1/js/pagedtable.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.sourceCode {
  overflow-x: visible;
}
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/mikedown/rmarkdown/templates/ucsb/resources/style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
    <img style="margin-bottom: 20px" src="https://github.com/mikejohnson51/mikedown/raw/master/inst/rmarkdown/templates/ucsb/resources/ucsb-navy-white.png" alt="logo">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore"><a href="index.html">Geography 176A</a></h1>
<h3 class="subtitle"><em>COVID-19 Pandemic</em></h3>
<h4 class="author" style="text-align: center;"><em><a href="https://github.com/mikejohnson51">Mike Johnson</a> - Lab 03 Instructions</em></h4>

</div>


<center>
<img src="lab-img/02-nyt-covid.png" class="border">
</center>
<p><br><br><br></p>
<hr />
<p>In this lab you will practice data wrangling and visualization skills using real-time COVID-19 data maintained by the New York Times.</p>
<div id="set-up" class="section level1">
<h1>Set-up</h1>
<ol style="list-style-type: decimal">
<li>Create a <code>geog-176A-labs</code> GitHub repository</li>
<li>Clone it to your machine</li>
<li>Create a <code>data</code>, <code>docs</code>, and <code>img</code> directory</li>
<li>In docs, create a new .Rmd file called <code>lab-02.Rmd</code></li>
<li>Populate its YML with a title, author, subtitle, output type and theme. For example:</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="op">---</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>title<span class="op">:</span><span class="st"> &quot;Geography 176A&quot;</span></span>
<span id="cb1-3"><a href="#cb1-3"></a>author<span class="op">:</span><span class="st"> &quot;[Mike Johnson](https://mikejohnson51.github.io)&quot;</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>subtitle<span class="op">:</span><span class="st"> &#39;Lab 03: COVID-19 Pandemic&#39;</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>output<span class="op">:</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="st">  </span>html_document<span class="op">:</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="st">    </span>theme<span class="op">:</span><span class="st"> </span>journal</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="op">---</span></span></code></pre></div>
<p>Be sure to associate your name with your personal webpage via a link.</p>
<hr />
<div id="libraries" class="section level3">
<h3>Libraries</h3>
<p>You will need a few libraries for this lab. Make sure they are installed and loaded in your Rmd.</p>
<ol style="list-style-type: decimal">
<li><code>tidyverse</code> (data wrangling and visualization)</li>
<li><code>knitr</code> (make nice tables)</li>
<li><code>readxl</code> (read excel files)</li>
<li><code>zoo</code> (rolling averages)</li>
</ol>
<hr />
</div>
<div id="data" class="section level3">
<h3>Data</h3>
<p>We are going to practice some data wrangling skills using a real-world dataset about COVID cases curated and maintained by the New York Times. The data has been used to create reports and data visualizations like <a href="https://www.nytimes.com/interactive/2020/us/coronavirus-spread.html?referringSource=articleShare">this</a>, and are archived on a GitHub repo <a href="https://github.com/nytimes/covid-19-data">here</a>. Looking at the README in this repository we read:</p>
<blockquote>
<p>“We are providing two sets of data with cumulative counts of coronavirus cases and deaths: one with our most current numbers for each geography and another with historical data showing the tally for each day for each geography … the historical files are the final counts at the end of each day … The historical and live data are released in three files, one for each of these geographic levels: U.S., states and counties.”</p>
</blockquote>
<p>For this lab we will use the historic, county level data which is stored as an updating CSV at this URL:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>https<span class="op">:</span><span class="er">//</span>raw.githubusercontent.com<span class="op">/</span>nytimes<span class="op">/</span>covid<span class="dv">-19</span><span class="op">-</span>data<span class="op">/</span>master<span class="op">/</span>us<span class="op">-</span>counties.csv</span></code></pre></div>
<hr />
</div>
</div>
<div id="question-1" class="section level1">
<h1><strong>Question 1</strong>:</h1>
<p>You are a data scientist for the state of California Department of Public Health.</p>
<p>You’ve been tasked with giving a report to Governor Newsom every morning about the most current COVID-19 conditions at the county level.</p>
<p>As it stands, the California Department of Public Health maintains a watch list of counties that are being monitored for worsening coronavirus trends. There are six criteria used to place counties on the watch list:</p>
<ol style="list-style-type: decimal">
<li><p>Doing fewer than 150 tests per 100,000 residents daily (over a 7-day average)</p></li>
<li><p>More than 100 new cases per 100,000 residents over the past 14 days…</p></li>
<li><p>25 new cases per 100,000 residents and an 8% test positivity rate</p></li>
<li><p>10% or greater increase in COVID-19 hospitalized patients over the past 3 days</p></li>
<li><p>Fewer than 20% of ICU beds available</p></li>
<li><p>Fewer than 25% ventilators available</p></li>
</ol>
<p><strong>Of these 6 conditions, you are in charge of monitoring condition number 2.</strong></p>
<p>To do this job well, you should set up a reproducible framework to communicate the following in a way that can be updated every time new data is released:</p>
<ol style="list-style-type: decimal">
<li>cumulative cases in the 5 worst counties</li>
<li>total <strong>NEW</strong> cases in the 5 worst counties</li>
<li>A list of safe counties</li>
<li>A text report describing the total new cases, total cumulative cases and number of safe counties.</li>
</ol>
<p>You should build this analysis in such a way that running it will extract the most current data straight from the NY-Times URL, the state name is a parameter that can be changed allowing this report to be run for other states.</p>
<hr />
<div id="steps" class="section level2">
<h2>Steps:</h2>
<ol style="list-style-type: decimal">
<li><p>Start by reading in the data from the NY-Times URL with <code>read_csv</code> (make sure to attach the tidyverse)</p></li>
<li><p>This data is considered our “raw data”. Remember to always leave “raw-data-raw” and to generate meaningful subsets as you go. Start by making a subset that filters the data to California and add a new column (mutate) with the daily new cases using <code>diff</code>.</p></li>
</ol>
<p>(<strong>Hint</strong>: you will need some combination of <code>filter</code>, <code>group_by</code>, <code>mutate</code>, <code>diff</code>, and <code>ungroup</code>)</p>
<ol start="3" style="list-style-type: decimal">
<li>Using your subset, generate (<strong>2</strong>) tables. The first should show the 5 counties with the most cumulative cases, and the second should show the 5 counties with the most <strong>NEW</strong> cases. Your tables should have clear column names and descriptive captions.</li>
</ol>
<p>(<strong>Hint:</strong> Use <code>knitr::kable</code> and the parameters <code>caption</code> and <code>col.names</code>)</p>
<ol start="4" style="list-style-type: decimal">
<li><p>To determine the number of cases in the last 14 days per 100,000 people we need population estimates. Population data is offered by the USDA and can be found <a href="https://www.ers.usda.gov/webdocs/DataFiles/48747/PopulationEstimates.xls?v=2561.3">here</a>. Please download the data and store it in the <code>data</code> directory of your project.</p></li>
<li><p>Load the population data with the “dataset importer” (find the file in your data directory via the file explorer –&gt; click on it –&gt; select “Import Dataset”). Be sure to copy the code preview (ignore the <code>View(...)</code>) and insert it in your Rmarkdown. This will allow the data to be referenced every time the file is run!</p></li>
</ol>
<p>(<strong>Hint</strong>: Be careful about how the data is imported (do any rows need to be skipped?))</p>
<ol start="6" style="list-style-type: decimal">
<li>Now, explore the data… what attributes does it have, what are the names of the columns? Do any match the COVID data we have? What are the dimensions…</li>
</ol>
<p>(<strong>Hint</strong>: <code>names()</code>, <code>dim()</code>, <code>nrow()</code>, <code>str()</code> …))</p>
<ol start="7" style="list-style-type: decimal">
<li><p>Join the population data to the California COVID data.</p></li>
<li><p>Generate (<strong>2</strong>) new tables. The first should show the 5 counties with the most cumulative cases per capita, and the second should show the 5 counties with the most <strong>NEW</strong> cases per capita. Your tables should have clear column names and descriptive captions.</p></li>
</ol>
<p>(<strong>Hint:</strong> Use <code>knitr::kable</code>)</p>
<ol start="9" style="list-style-type: decimal">
<li>Filter the merged COVID/Population data to only include the last 14 days. <em>Remember this should be a programmatic request and not hard-coded</em>. Then, use the <code>group_by</code>/<code>summarize</code> paradigm to determine the total number of new cases in the last 14 days per 100,000 people.</li>
</ol>
<p>(<strong>Hint</strong>: Dates are numeric in R and thus operations like <code>max</code> <code>min</code>, <code>-</code>, <code>+</code>, <code>&gt;</code>, and<code>&lt;</code> work.)</p>
<ol start="10" style="list-style-type: decimal">
<li>Write the results of your analysis using in line r chunks to describe (1) the total number of cases, (2) the total number of new cases, and (3) the total number of safe counties as a single sentence or 2.</li>
</ol>
<hr />
</div>
</div>
<div id="question-2" class="section level1">
<h1><strong>Question 2</strong>:</h1>
<p>In this question, we are going to look at the story of 4 states and the impact scale can have on data interprtation. The states include: <strong>New York</strong>, <strong>California</strong>, <strong>Louisiana</strong>, and <strong>Florida</strong>.</p>
<p>Your task is to make a <em>faceted</em> bar plot showing the number of daily, <strong>new</strong> cases at the state level.</p>
<hr />
<div id="steps-1" class="section level2">
<h2>Steps:</h2>
<ol style="list-style-type: decimal">
<li>First, we need to <code>group/summarize</code> our county level data to the state level, <code>filter</code> it to the four states of interest, and calculate the number of daily new cases (<code>diff</code>) and the 7-day rolling mean.</li>
</ol>
<p><strong>Hint:</strong> You will need two <code>group_by</code> calls and the <code>zoo::rollmean</code> function.</p>
<ol start="2" style="list-style-type: decimal">
<li><p>Using the modified data, make a facet plot of the daily new cases and the 7-day rolling mean. Your plot should use compelling geoms, labels, colors, and themes.</p></li>
<li><p>The story of raw case counts can be misleading. To understand why, lets explore the cases per capita of each state. To do this, join the state COVID data to the USDA population estimates and calculate the <span class="math inline">\(new cases / total population\)</span>. Additionally, calculate the 7-day rolling mean of the new cases per capita counts. <strong>This is a tricky task and will take some thought, time, and modification to existing code (most likley)!</strong></p></li>
</ol>
<p><strong>Hint</strong>: You may need to modify the columns you kept in your original population data. Be creative with how you join data (inner vs outer vs full)!</p>
<ol start="4" style="list-style-type: decimal">
<li><p>Using the per capita data, replicate the previous facet plot with compelling labels, colors, and theme. While looking similar to the other, it should be visually different (e.g. chose different colors but the same theme)</p></li>
<li><p>Briefly describe the influence scaling by population had on the analysis? Does it make some states look better? Some worse? How so?</p></li>
</ol>
<hr />
</div>
</div>
<div id="question-3" class="section level1">
<h1><strong>Question 3:</strong></h1>
<p><strong>This question is extra credit!</strong></p>
<ul>
<li><p>Here we will explore our first spatial example. In it we will calculate the Weighted Mean Center of the COVID-19 outbreak in the USA to understand the movement of the virus through time.</p></li>
<li><p>To do this, we need to join the COVID data with location information. I have staged that latitude and longitidue of county centers <a href="">here</a>. For reference, this data was processed like this:</p></li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>counties =<span class="st"> </span>USAboundaries<span class="op">::</span><span class="kw">us_counties</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="st">  </span><span class="kw">select</span>(statefp, name, state_name) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="st">  </span><span class="kw">st_centroid</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">LON =</span> <span class="kw">st_coordinates</span>(.)[,<span class="dv">1</span>], </span>
<span id="cb3-5"><a href="#cb3-5"></a>         <span class="dt">LAT =</span> <span class="kw">st_coordinates</span>(.)[,<span class="dv">1</span>]) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="st">  </span><span class="kw">st_drop_geometry</span>()</span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="kw">write.csv</span>(counties, <span class="st">&quot;data/county-centroids.csv&quot;</span>)</span></code></pre></div>
<p>Please download the data, place it in your <code>data</code> directory; read it in (<code>readr::read_csv()</code>); and join it to your raw COVID-19 data using the statefp and fips attributes.</p>
<ul>
<li>The mean center of a set of spatial points is defined as the average X and Y coordinate. A weighted mean center is found by weighting the X and Y coordinates by another variable:</li>
</ul>
<p><span class="math display">\[X_{coord} = \sum{(X_{i} * w_{i})} / \sum(w_{i})\]</span> <span class="math display">\[Y_{coord} = \sum{(Y_{i} * w_{i})}/ \sum(w_{i})\]</span></p>
<ul>
<li>For each date, calculate the Weighted Mean <span class="math inline">\(X_{coord}\)</span> and <span class="math inline">\(Y_{coord}\)</span> for each county using the daily cumulative cases and the weight <span class="math inline">\(w_{i}\)</span>. In addition, calculate the total cases for each day, as well as the month.</li>
</ul>
<p><strong>Hint:</strong> the month can be extracted from the date column using <code>format(date, "%m")</code></p>
<ul>
<li>Plot the weighted mean center (aes(x = LNG, y = LAT)), colored by month, and sized by total cases for each day. These points should be plotted over a map of the USA states which can be added to a ggplot object with:</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">borders</span>(<span class="st">&quot;state&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;gray90&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;white&quot;</span>)</span></code></pre></div>
<p>(feel free to modify fill and <strong>colour</strong> (must be colour (see documentation)))</p>
<ul>
<li>In a few sentences, describe the movement of the COVID-19 weighted mean throughout the USA and possible drivers of its movement given your knowledge of the outbreak hot spots.</li>
</ul>
<hr />
</div>
<div id="rubric" class="section level1">
<h1>Rubric</h1>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
<strong>Question 1</strong> (40)</li>
<li><input type="checkbox" disabled="" />
<strong>Question 2</strong> (35)</li>
<li><input type="checkbox" disabled="" />
<strong>Question 3</strong> (30)</li>
<li><input type="checkbox" disabled="" />
<strong>Well Structured and appealing Rmd</strong> (20)</li>
<li><input type="checkbox" disabled="" />
<strong>Deployed as web page</strong> (5)</li>
</ul>
<p><strong>Total:</strong> 100 points (130 possible)</p>
</div>
<div id="submission" class="section level1">
<h1>Submission</h1>
<p>For this lab you will submit a URL to a webpage deployed with GitHub pages To do this:</p>
<ul>
<li>Knit your lab 2 document</li>
<li>Stage/commit/push your files</li>
<li>Activate Github Pages (GitHub –&gt; Setting –&gt; GitHub pages) and deploy from the docs folder</li>
<li>If you followed the naming conventions in the “Set Up”, your lab 2 link will be available at:</li>
</ul>
<p><code>https://USERNAME.github.io/geog-176A-labs/lab-02.html</code></p>
<p>Submit this URL in the appropriate Gauchospace dropbox. Also take a moment to update your prsonal webpage with this link and some bullet points of what you learned. While not graded as part of this lab, it will be your final!</p>
</div>
<div id="end" class="section level1">
<h1>END</h1>
</div>



&nbsp;
<hr />
<p style="text-align: center;">Prepared for <a href="https://github.com//">Geography 176A</a> by <a href="https://github.com/mikejohnson51"><a href="https://github.com/mikejohnson51">Mike Johnson</a></a></p>
<p style="text-align: center;"><span style="color: #004D9F;background-color:transparent"><em><a href="mailto:jmj00@ucsb.edu" class="email">jmj00@ucsb.edu</a></em></span></p>

<!-- Add icon library -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
&nbsp;


</div>
</div>

</div>





<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
